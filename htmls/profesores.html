<h1>Profesores</h1>
<div id="tabla">
    <!--form action="null" method="post">-->
      <table id="profes">
<script>
$(document).ready(function(){
  var url = 'http://localhost/Servicio/ws/get_all.php';
  $.post(url,{tabla: 'profesores'}, 
    function(data, textStatus, jqXHR){
      //alert(data[0].nombre);
      //alert(textStatus);
      var html = '<thead> <tr> <th>Nombre</th> <th>Usuario</th> </tr> </thead> <tbody>';
      
      for (var i = 0; i < data.length; i++) {
        html += "<tr> <td>nombre</td><td>usuario </td><td> <button type=button onclick=borrar('bla')>Borrar</button> </td> <td> <button type=button onclick=editar('xyz')>Editar</button> </td></tr>";
        html = html.replace('bla',data[i].id);
        html = html.replace('nombre',  data[i].nombre);
        html = html.replace('usuario',  data[i].usuario);
        html = html.replace('xyz',  data[i].id);
      };

      html += '</tbody></table></div>';
      $('#tabla').append(html);
    }, 'json').fail(function(jqXHR, textStatus, errorThrown){
      alert(textStatus);
    });
});

var popupStatus = 0;

function borrar(id){
  alert(id);
}

function editar(id){
  //alert(id);
  cargando();
  setTimeout(function(){
    carga_popup();
  }, 500);
  return false;
}

$("div.cerrar").click( function() {
  cierra_popup();
});

$(this).keyup( function(event) {
  if (event.which = 27) {
    cierra_popup();
  };
});

function cargando(){
  $("div.loading").show();
  //alert('hola');
}

function cierra_cargando(){
  $("div.loading").fadeOut('normal');
}

function carga_popup(){
  if(popupStatus == 0){
    cierra_cargando();
    $("#toPopup").fadeIn(0500);
    $("#fondoPopup").css("opacity", "0.7");
    $("#fondoPopup").fadeIn(0001);
    popupStatus = 1;
  }
}

function cierra_popup(){
  if (popupStatus == 1) {
    $("#toPopup").fadeOut("normal");
    $("#fondoPopup").fadeOut("normal");
    popupStatus = 0;
  };
}

</script>

<div id="toPopup">
  <div class="cerrar"></div>
  <p>Funciona</p>
</div> <!-- termina toPopup -->

<div class="loading"></div>
<div id="fondoPopup"></div>